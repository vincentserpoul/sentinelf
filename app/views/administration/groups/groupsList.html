<div ng-controller="GroupsCtrl">
	<button class="btn btn-primary btn-sm" ng-click="newGroup()"><i class="fa fa-plus fa-fw"></i> New</button>
	<div class="panel panel-info" ng-show="showNew">
		<div class="panel-heading">
			New Group
		</div>
		<div class="panel-body">
			<table class="table">
				<thead>
					<th>Group</th>
					<th>Permissions</th>
					<th>Actions</th>
				</thead>
				<tbody>
					<tr>
						<td>
							<input type="text" class="form-control input-sm" ng-model="new_group.name" />
						</td>
						<td>
							<div ng-repeat="permission in new_group.group_permissions">
								<input type="checkbox" ng-model="permission.isPermitted" /> {{permission.name}}
							</div>
						</td>
						<td>
		                    <div class="btn-group">
		                        <button type="button" class="btn btn-success btn-xs" ng-click="saveNewGroup()"><i class="fa fa-save fa-fw"></i> Save</button>
		                        <button type="button" class="btn btn-default btn-xs" ng-click="cancelNewGroup()"><i class="fa fa-ban fa-fw"></i>Cancel</button>
		                    </div>            
		                </td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	<table class="table">
		<thead>
			<th>Group</th>
			<th>Permissions</th>
			<th>Actions</th>
		</thead>
		<tbody ng-repeat="group in groups" class="repeat-animation" ng-controller="GroupCtrl">
			<tr ng-include src="groupTemplate"></tr>
		</tbody>
	</table>
</div>