<div class="panel panel-info" ng-controller="EventPeriodsCtrl">
    <div class="panel-heading">
        {{event.label}}'s Event Periods
        <button type="button" class="btn btn-primary btn-xs" ng-click="newEventPeriod()"><i class="fa fa-plus fa-fw"></i> New</button>
    </div>
    <div ng-show="showNew">
        <div class="panel panel-primary">
            <div class="panel-heading">New Event Period</div>
            <div class="panel-body">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Start Date</th>
                            <th>End Date</th>
                            <th>Number of Employees needed</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><edit-input-datetime datetime="new_eventPeriod.start_datetime" edit-form="true"></edit-input-datetime></td>
                            <td><edit-input-datetime datetime="new_eventPeriod.end_datetime" edit-form="true"></edit-input-datetime></td>
                            <td><edit-input-text value="new_eventPeriod.number_of_employee_needed" edit-form="true"></edit-input-text></td>
                            <td>
                                <div class="btn-group-vertical">
                                    <button type="button" class="btn btn-success btn-xs" ng-click="saveNewEventPeriod()"><i class="fa fa-save fa-fw"></i> Save</button>
                                    <button type="button" class="btn btn-default btn-xs" ng-click="cancelNewEventPeriod()"><i class="fa fa-ban fa-fw"></i>Cancel</button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <table class="table" ng-show="eventPeriodsLazyloadFactory.eventPeriods.length">
        <tr>
            <th>ID</th>
            <th>Start Date</th>
            <th>End Date</th>
            <th>Number of Employees needed</th>
            <th>Actions</th>
            <th><i class="fa fa-list"></i> Sublists</th>
        </tr>
        <tbody ng-repeat="eventPeriod in eventPeriodsLazyloadFactory.eventPeriods" ng-controller='EventPeriodCtrl' class="repeat-animation">
            <tr ng-include src="eventPeriodTemplate"></tr>
            <tr style="border: none;">
                <td colspan="6" style="border: none; padding: 0px;">
                    <div ng-show="showAssignments" class="show-hide-animation">
                        <div class="well well-sm" ng-include src="'views/events/eventPeriods/assignmentsList.html'" ng-controller="EventPeriodsAssignmentsCtrl"></div>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <div ng-hide="eventPeriodsLazyloadFactory.completelyLoaded || eventPeriodsLazyloadFactory.busyLoadingEventPeriods">
        <button type="button" class="btn btn-link" ng-click="eventPeriodsLazyloadFactory.loadMore()">More...</button>
    </div>
    <div class="panel-body" ng-hide="eventPeriodsLazyloadFactory.eventPeriods.length || eventPeriodsLazyloadFactory.busyLoadingEventPeriods">
        <p class="text-muted">Empty</p>
    </div>
    <div class="panel-footer" ng-show="eventPeriodsLazyloadFactory.busyLoadingEventPeriods"><i class="fa fa-spinner fa-spin"></i> Loading...</div>
</div>